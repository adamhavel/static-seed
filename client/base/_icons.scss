/* ==========================================================================
   Icons
   ========================================================================== */

/* Variables
   ========================================================================== */

$icon-gap: .65em;
$icon-size: const(LINE_HEIGHT) * 1em;


/* Mixins
   ========================================================================== */

@mixin icon-size($new-size, $line-height: const(LINE_HEIGHT)) {

   .icon,
   .j-icon-placeholder {

      @if (unit($new-size) != unit(1em)) {
         @error 'Icon must have a size defined in "ems"';
      }

      @include size($new-size);

      @if ($new-size < ($line-height * 1em)) {
         vertical-align: middle;
      } @else {
         margin-top: -($new-size - ($line-height * 1em)) / 2;
      }

   }

   .no-svg & .icon:first-child {
      margin-right: -($new-size);
   }

}


/* Classes
   ========================================================================== */

.icon,
.j-icon-placeholder {
   @include size($icon-size);

   display: inline-block;
   margin-top: 0;
   vertical-align: top;
}

.icon {
   fill: currentColor;

   &:first-child {
      margin-right: $icon-gap;
   }

   &:last-child {
      margin-left: $icon-gap;
   }

   &:first-child:last-child {
      margin: 0;
   }

   &--vertical {
      @include island(.25);

      display: block;
      margin-top: 0 !important;
      margin-left: auto !important;
      margin-right: auto !important;
   }

   &--inline {
      margin-left: 0 !important;
      margin-right: 0 !important;
   }

   .no-svg & {
      margin-left: $icon-gap;

      &:first-child {
         margin-left: 0;
         margin-right: -($icon-size);

         ~ span {
            margin-left: $icon-gap;
         }

      }

      &--vertical ~ span {
         margin-left: 0 !important;
      }
   }
}